<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>登陆超时</title>
<script src="./skeleton/includeJs_3rd.js"></script>
<script src="./skeleton/includeCss_3rd.js"></script>
</head>
<body ng-app="myApp">
	<div
		style="width: 800px; height: 450px; margin: auto; background: url(skeleton/images/timeout.png) no-repeat;">
	</div>
	<div style="text-align: center;" ng-controller="myController">
		<a class="am-btn am-btn-primary am-round" href="#" ng-click="gotoLogin()">登录超时！请重新登录({{time}})</a>
	</div>
	<script>
		var app = angular.module('myApp', []);
		app.controller('myController', function($scope, $interval) {
			$scope.time = 5;
			var doTimeout = function() {
				if ($scope.time != 1) {
					$scope.time = $scope.time - 1;
					return;
				}
				window.parent.location.href = "login.html";
			};
			$interval(doTimeout, 1000, 5);
			
			$scope.gotoLogin = function() {
				window.parent.location.href = "login.html";
			}
		});
	</script>
</body>
</html>
