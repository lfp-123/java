<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html ng-app="mangeRoleAuth">
<head>
	<meta name="referrer" content="no-referrer">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>角色资源关系管理页面</title>
<script src="../skeleton/includeJs_3rd.js"></script>
<script src="../skeleton/includeCss_3rd.js"></script>
<style type="text/css">
.blankDiv {
	margin-right: 20px;
	display: inline;
}
.null_tr {
	height: 30.2px;
}
</style>
</head>
<body ng-controller="appCtrl as roleAuthCtrl" style="padding-right: 10px;" ng-cloak>
	<div class="row">
		<div class="col-xs-12 col-sm-6 col-md-8">
			<div style="border: 1px solid #ccc; border-radius: 5px;">
				<div class="modal-header">
					<div class="form-inline" align="right">
						<label for="dept">角色编号：</label> 
						<div class="form-group">
							<input type="text" class="input-text" ng-model="searchId">
						</div>
						<div class="blankDiv"></div>
						<label for="dept">角色名称：</label> 
						<div class="form-group">
			  				<input type="text" class="input-text" ng-model="searchName">	
						</div>
						<div class="blankDiv"></div>
		  				<button class="btn btn-primary" type="button" ng-click="searchRole()"><i class="Hui-iconfont">&#xe709;</i> 查询</button>
		  				<button class="btn btn-primary" type="button" ng-click="resetSearch()"><i class="Hui-iconfont">&#xe68f;</i> 重置</button>
					</div>
				</div>
				<div style="height:410px; overflow: auto;">
					<table ng-table="roleAuthCtrl.tableParams" class="table-condensed table-border table-hover" style="margin-bottom: 10px;">
						<tr ng-repeat="role in $data" ng-model="roleInfos" ng-click="selectRole(role)" ng-class="role.isNull">
							<td data-title="''">  
								<input type="checkbox" id="{{role.roleId}}" ng-checked="isSelected(role)" ng-if="role.isNull != 'null_tr'">
							</td>
							<td data-title="'角色编号'">  
								{{role.roleId}}
							</td>
							<td data-title="'角色名称'">{{role.roleName}}</td>
							<td data-title="'角色状态'" ng-bind="getRoleStatusName(role.roleStatus)">
							</td>
							<td data-title="'角色描述'"><span title="{{role.roleDesc}}" ng-bind="parseRoleDesc(role.roleDesc)"></span></td>
						</tr>
					</table>
				</div>
				<div class="modal-footer"></div>
			</div>
		</div>
		<div class="col-xs-6 col-md-4">
			<div style="border: 1px solid #ccc; border-radius: 5px;">
				<div class="modal-header">
					<h4 class="modal-title" align="center">角色资源信息</h4>
				</div>
				<div style="height:385px; overflow-y: auto;">
					<treecontrol class="tree-classic"  
						tree-model="resourceData"  
		 				options="treeOptions"  
		 				on-selection="showSelected(node)"  
						selected-nodes="nodes"
						expanded-nodes="expandedNodes"
						filter-expression="predicate" 
						filter-comparator="comparator">  
						{{node.resourceName}}
					</treecontrol>
				</div>
				<div class="modal-footer">
	        		<button class="btn btn-primary" ng-click="updateRoleAuth()"><i class="Hui-iconfont">&#xe6a7;</i> 确认</button>
	        		<button class="btn btn-primary" ng-click="cancelSelected()"><i class="Hui-iconfont">&#xe6a6;</i> 取消</button>
	    		</div>
    		</div>
		</div>
	</div>
	<script type="text/javascript" src="../resources/admin/controller/manageRoleAuth.js"></script>
</body>
</html>